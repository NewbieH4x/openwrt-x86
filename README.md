# How to Transform any PC into an OpenWRT VPN Wifi Router and Self Hosted Docker Web Server


Did you know that your old laptop, PC, or Intel NUC can transform into a VPN WiFi router that just happens to be capable of self hosting private websites? In this tutorial we will show you how easy it is to install PrivateRouter OpenWRT, a powerful WiFi router platform that can run WireGuard, OpenVPN, V2ray, SSL proxies, Socks5, and Docker. All you need is a spare USB drive to get started. <br /> <br /> <strong>Disclaimer: Before we begin make sure there is nothing valuable on the old PC's hard drive that you will use. Any old data will be written over and <span class="c1">gone forever</span>.</strong> <br /> <br /><span class="c2" style="font-size: x-large;"> 

# Prepare the USB Installer

To make this as painless as possible we created a bootable Linux Mint USB image with everything you will need pre-installed. <br /> <br />Fire up your favorite torrent client and download our <a href="https://github.com/PrivateRouter-LLC/openwrt-x86/raw/main/linuxmint-21.1-xfce-64bit-torguard-privaterouter.img.torrent" target="_blank">custom Linux Mint image</a>. This image is only 4GB in size so any USB drive will work however if you have a USB 3.0 drive that works best. <br /> <br />Next, download our favorite application to copy bootable images onto USB drives: <a href="https://www.balena.io/etcher/" target="_blank">balenaEtcher</a>. balenaEtcher is compatible with Windows, MacOS, and Linux. <br /> <br />Start balenaEtcher and click the <strong>Flash from file</strong> button. Locate the custom Linux Mint image that was downloaded over bittorrent and insert your USB drive into the computer. Click the <strong>Select Target</strong> button, choose the USB drive and then click the <strong>Select</strong> button. <span class="c3"> <em>Double check that you selected the USB drive and not your main hard drive</em> </span>, then click the <strong>Flash</strong> button. <br /> <br />Wait a few minutes and once the flash is complete remove the USB drive and proceed to the next step. <br /> <br /> 

# Boot Your Old PC from USB</span> <br />
<span class="c4">Make sure the old PC is powered off then insert the recently flashed USB drive into the computer. In order to boot from the USB drive you must first change the boot order in the bios settings. Most computer's bios settings can be accessed by pressing the ESC key, DEL key, or F12 key right away when the PC is powering on. When in doubt it might take a few tries pressing all of them before you reach the blue bios screen. <br /> <br />Power on your PC and press <strong>ESC, F12, DEL</strong> (or all of them) until you see the bios screen below. Depending on your hardware the bios screen might look a little different but the settings should be similar. <br /> <br />Use the right arrow key to access the <strong>Security</strong> tab and make sure <strong>Secure Boot</strong> is set to <strong>Disabled</strong>. If it shows as enabled press the down arrow to highlight Secure Boot and set it as Disabled. Press ESC to go back to the main bios screen. <br /> <br /> <img src="https://torguard.net/assets/images/diyopenwrt/bios3.png" alt="bios3" /> <br /> <br />Then select the <strong>Boot</strong> tab and use the down arrow key to highlight <strong>Boot Option #1</strong>. This option is likely set to your hard disk. Press <strong>ENTER</strong> and select the <strong>USB</strong> drive, then go to <strong>Save &amp; Exit</strong> and choose <strong>Save Changes on Exit.</strong> <br /> <br /> <span class="c4"> <img src="https://torguard.net/assets/images/diyopenwrt/bios2.png" alt="bios2" width="1044" height="594" /> <br /> <br /> <br />Your PC should now boot the USB drive first instead of the hard drive and you should see the screen below. Press the <strong>ENTER</strong> key <strong>four times</strong> to proceed to the Linux Mint Desktop. <br /></span></span>
<div> </div>
<div><span class="c5"> <img src="https://torguard.net/assets/images/diyopenwrt/enterenterenterenter.gif" alt="enterenterenterenter" /> <br /> <br /> <br /> 

# Burn PrivateRouter OpenWRT to your Old PC's Hard Drive

<span class="c4">You should now see the Linux Mint Desktop below. <strong>Double click balenaEtcher.</strong> <br /></span> </span></div>
<span class="c4"> <br /> <span class="c5"> <img src="https://torguard.net/assets/images/diyopenwrt/router1.png" alt="router1" width="900"  /> <br /> <br /> <br /> <span class="c5">Locate the openwrt image on the desktop then click and drag the file into the balenaEtcher window. Next, click <strong>Select Target</strong>. <br /></span> <span class="c4"> <br /> <span class="c5"> <img src="https://torguard.net/assets/images/diyopenwrt/router2.png" alt="router2" width="1100" /> <br /> <br /> <br /> <span class="c5"> <span class="c5">Now we are going to do exactly what the warning says: select the system drive and erase the hard drive by writing over it with the PrivateRouter OpenWRT image. (You may have to click the "hidden" link to see the system drive.) Your system drive is usually labeled /dev/sda <br /></span> <span class="c4"> <br /> <span class="c5"> <img src="https://torguard.net/assets/images/diyopenwrt/router3.png" alt="router3" width="804" height="518" /> <br /> <br />Click the <strong>Flash button</strong> to copy the image to your hard drive. <span class="c5"> <span class="c5"> <br /> </span> <span class="c4"> <br /> <span class="c5"> <img src="https://torguard.net/assets/images/diyopenwrt/router4.png" alt="router4" width="804" height="518" /> <br /> <br /> <br /> <span class="c5">You should see one more warning about erasing your computer's hard drives. Click the <strong>Yes, I'm sure</strong> link. <span class="c5"> <span class="c5"> <br /> </span> <span class="c4"> <br /> <span class="c5"> <img src="https://torguard.net/assets/images/diyopenwrt/router5.png" alt="router5" width="804" height="518" /> <br /> <br /> <br /> <span class="c5">Wait a few moments while the image is being flashed onto your hard drive... <span class="c5"> <span class="c5"> <br /> </span> <span class="c4"> <br /> <span class="c5"> <img src="https://torguard.net/assets/images/diyopenwrt/router6.png" alt="router6" width="804" height="518" /> <br /> <br /> <br /> <span class="c5">Once the flash is complete, <strong>close balenaEtcher</strong>. <span class="c5"> <span class="c5"> <br /> </span> <span class="c4"> <br /> <span class="c5"> <img src="https://torguard.net/assets/images/diyopenwrt/router7.png" alt="router7" width="804" height="518" /> <br /> <br /> <br /> <span class="c5">Now that the OpenWRT image is on the hard disk we need to create an ext4 partition with the remaining space for Docker to use. On the desktop double click the <strong>Gparted</strong> icon. (Docker is the software that can run applications directly on your router.) <span class="c5"> <span class="c5"> <br /> </span> <span class="c4"> <br /> <span class="c5"> <img src="https://torguard.net/assets/images/diyopenwrt/router9.png" alt="router9" width="900"/> <br /> <br /> <br /> <span class="c5"> <span class="c4">Make sure to choose the system drive that we just flashed from the dropdown menu (/dev/sda). Right click the unallocated space area and</span> <strong>click NEW.</strong> <br /> <br /> <br /> <img src="https://torguard.net/assets/images/diyopenwrt/router10.png" alt="router10" width="779" height="538" /> <br /> <br /> <br />Click the <strong>add button</strong> to create a new ext4 partition with the <span class="c4">unallocated</span> space on the hard drive. <br /> <br /></span> </span> </span> </span></span> </span> </span> </span></span> </span> </span> </span></span> </span> </span> </span></span> </span> </span> </span></span> </span> </span> </span> </span> </span> </span>
<div><span class="c5"> <img src="https://torguard.net/assets/images/diyopenwrt/router11.png" alt="router11" width="661" height="333" /> <br /> </span></div>
<div><span class="c5"> <br /> <br /> </span></div>
<div> </div>
<span class="c4"> <span class="c5"> Click the checkbox <span class="c4">in the top menu to apply the settings.</span> <br /> <br /> <img src="https://torguard.net/assets/images/diyopenwrt/router12.png" alt="router12" width="779" height="538" /> <br /> <br /> <br /> <span class="c4">You have now copied the PrivateRouter OpenWRT image to your PC's hard drive. Shutdown the PC and remove the USB drive before moving on to the next step.</span> <span class="c4">When prompted click the to save all changes.</span> <strong>Apply button</strong> <br /> <br /> <img src="https://torguard.net/assets/images/diyopenwrt/router13.png" alt="router13" width="601" height="188" /> <br /> <br /> <br /> <br /> 

# Boot PrivateRouter OpenWRT

<span class="c4">Before booting the first time into OpenWRT it's important to plug a LAN cable into your PC that is connected to another internet enabled WiFi router or modem. The first time your PC/Wifi Router boots up it will update itself and install various drivers, VPN clients and Docker. It will need internet access to complete this task. <br /> <br />If your PC does not have two LAN ports we suggest plugging in a USB LAN adapter so you can access it directly from another computer after all drivers are installed. This OpenWRT image is pre-built with drivers for the <a href="https://www.amazon.com/UGREEN-Network-Ethernet-Supports-Nintendo/dp/B00MYTSN18/">UGREEN USB 3.0 Gigabit Ethernet Adapter</a>, however other USB LAN adapters will also work. <br /> <br />If you do not have any extra LAN port or USB Ethernet adapter, you can still connect after the first boot to enable WiFi or connect to an existing WiFi network. <br /> <br />By default your OpenWRT router will run on IP address: <strong>192.168.70.1 <br /> <br />Power on the PC and monitor the progress on screen.</strong> After first boot wait about five minutes for the router to complete the update process, then reboot. <br /> <br />To ensure you have internet access type "ping 1.1.1.1" and press enter. You should see a reply, however if you are not connected you can plug in a LAN cable to another PC and access 192.168.70.1 in a web browser. (If you can't access the IP in a web browser follow the troubleshooting steps at the end of this tutorial.)</span> <br /> <br />Once the first boot is complete and all drivers are installed, connect a LAN cable to another PC or Laptop and access <span class="c5">192.168.70.1</span> from any web browser. Click the Login button: <br /> <br /> <img src="https://torguard.net/assets/images/diyopenwrt/openwrt1.png" alt="openwrt1" width="1100" /> <br /> <br /> <span class="c5">Click the System tab to proceed with mounting the ext4 Docker partition. <br /> <br /> <img src="https://torguard.net/assets/images/diyopenwrt/openwrt2.png" alt="openwrt2" width="1100" height="761" /> <br />Click the <strong>Mount Points</strong> menu on the left panel then click the <strong>GENERATE CONFIG</strong> and <strong>MOUNT ATTACHED DEVICES</strong> buttons. <br />  <span class="c5"><br /><br /> </span></span><br /> <span class="c5"> <img src="https://torguard.net/assets/images/diyopenwrt/openwrt3.png" alt="openwrt3" width="1100" height="761" /> </span> <br /> </span>Scroll down to <strong>MOUNT POINTS</strong> and click the <strong>EDIT</strong> button for the /dev/sda3 ext4 Filesystem. <span class="c5"> <br /> <br /> <img src="https://torguard.net/assets/images/diyopenwrt/openwrt4.png" alt="openwrt4" width="1100" height="761" /> <br /> </span></span>
<div> </div>
<div>Check the <strong>Enabled</strong> option then click the Mount Point dropdown and manually enter <strong>/opt/docker2 <br /> <br />Click the save button.</strong> <br /> <br /> <span class="c5"> <img src="https://torguard.net/assets/images/diyopenwrt/openwrt6.png" alt="openwrt6" width="1100" height="761" /> <br />On the left menu click the <strong>Docker</strong> tab then select <strong>Configuration</strong>. In the Docker Root Dir textbox enter <strong>/opt/docker2/</strong> <br /> <br />Click the <strong>Save &amp; Apply button</strong> then reboot your system to complete the setup. <br /> <span class="c5"> <img src="https://torguard.net/assets/images/diyopenwrt/openwrt7.png" alt="openwrt7" width="1100" height="761" /> </span></span></div>
<span class="c4"> <br /> <br /> <br /> </span>
